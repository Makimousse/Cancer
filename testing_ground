"""
The program currently indicates the user with it's chances of having cancer depending on his age, sex and country.
The age and sex specific data is from the UK Cancer institute (https://bit.ly/2BOLDsE), and the country-specific data is from from the 2018 GLOBOCAN statistics survey (https://bit.ly/3DCvLrI).
This program is NOT about accuracy of the data (although we're constantly trying to make it more accurate), it is just a high-school assignement, please don't bully us.
Author: Kamikasie, ''' adad '''
License = GPL-3
"""
import pandas as pd
from interval import interval, inf, imath

url = "/Users/Hugo/Documents/GitHub/Cancer/Datasheet1-sex&age.xlsx" # Url variable represents the dataset that will be used to fetch the data from a person's age and sex.
df = pd.read_excel(url, usecols = 'A:B') # First dataframe that looks at the sex columns of the excel book



sex = input('Please input your sex (M for male, F for female):')  
age = int(input('Please enter your age (between 2 and 90):'))

def base_percentage():
    percentage = df[sex].iloc[age] # Fetches the percentage data from row "sex" and line "age"
    percentage  = '%.4f' % round(percentage, 4) # Rounds the result to 4 digits after decimal point

    print("You have a "+ percentage+"% chance of currently having some type of cancer.")

def gen_spes():
    sex2 = sex + "_canc" # The rows for the gender-specific cancer survival data are named H_canc and F_canc, so it is important to rename the sex variable

    df_sex = pd.read_excel(url, usecols = 'C:D') # Second dataframe for the gender-specific cancer data, or else python has a stroke for no reason
        
    gen_spes_percent = str(df_sex[sex2].iloc[age]) # Same as "percentage", but for the second dataframe
    if sex2 == "M_canc":
        print("If you do have some kind of cancer, there is a 25.4% chance that it is prostate cancer. Prostate cancer has a "+gen_spes_percent+"% survival chance over 5 years for your age")
    else:
        print("If you have some kind of cancer, there is a 30% chance that it is breast cancer. Breast cancer has a "+gen_spes_percent+"% survival chance over 5 years for your age")

def main():
    base_percentage()
    if age >= 15:
        gen_spes()

main()

